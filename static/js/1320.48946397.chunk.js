(self.webpackChunkcommerce=self.webpackChunkcommerce||[]).push([[1320],{81320:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>D});var o=n(65043),r=n(41740),s=n.n(r),i=n(19853),a=n.n(i),l=n(1488),d=n.n(l),u=n(929),h=n.n(u),c=n(33097),p=n.n(c),m=n(97370);function g(t){return!!t&&t===Object(t)&&!(t instanceof Date)}var v=n(890);function b(t){let e=0;return()=>"".concat(t,"-").concat(("000"+(e++).toString(36)).slice(-4))}const f=b("uniforms");class C extends o.Component{constructor(t){var e;super(t),e=this,this.state={changed:!1,changedMap:Object.create(null),resetCount:0,submitted:!1,submitting:!1},this.mounted=!1,this.randomId=function(){return b(arguments.length>0&&void 0!==arguments[0]?arguments[0]:f())}(this.props.id),this.onReset=this.reset=this.onReset.bind(this),this.onChange=this.change=this.onChange.bind(this),this.onSubmit=this.submit=this.onSubmit.bind(this);const n=this.getModel.bind(this);this.getModel=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n(t);return void 0!==t&&e.props.modelTransform?e.props.modelTransform(t,o):o}}componentDidMount(){this.mounted=!0}componentDidUpdate(t,e,n){}componentWillUnmount(){this.mounted=!1,this.delayId&&clearTimeout(this.delayId),this.setState=()=>{}}getContext(){return{changed:this.state.changed,changedMap:this.state.changedMap,error:this.getContextError(),formRef:this,model:this.getContextModel(),name:this.getContextName(),onChange:this.getContextOnChange(),onSubmit:this.getContextOnSubmit(),randomId:this.randomId,schema:this.getContextSchema(),state:this.getContextState(),submitted:this.state.submitted,submitting:this.state.submitting,validating:!1}}getContextName(){return[]}getContextError(){return this.props.error}getContextModel(){return this.getModel("form")}getContextState(){return{disabled:!!this.props.disabled,label:!!this.props.label,placeholder:!!this.props.placeholder,readOnly:!!this.props.readOnly,showInlineError:!!this.props.showInlineError}}getContextSchema(){return this.props.schema}getContextOnChange(){return this.onChange}getContextOnSubmit(){return this.onSubmit}getModel(t){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.model}getNativeFormProps(){const t=d()(this.props,["autosave","autosaveDelay","disabled","error","label","model","modelTransform","onChange","onSubmit","placeholder","readOnly","schema","showInlineError"]);return Object.assign(Object.assign({},t),{onSubmit:this.onSubmit,key:"reset-".concat(this.state.resetCount)})}onChange(t,e){if(this.mounted){const n=function(t,e,n){if(!g(e)||n&&typeof e!==typeof n)return a()(e,n)?[]:[t];const o=[t];if(g(n)){for(const r in e)r in n&&a()(e[r],n[r])||o.push((0,m.Y)(t,r));for(const r in n)r in e||o.push((0,m.Y)(t,r));1===o.length&&o.pop()}else for(const r in e)o.push((0,m.Y)(t,r));return o}(t,e,p()(this.getModel(),t));0!==n.length&&this.setState((t=>t.changed&&n.every((e=>!!p()(t.changedMap,e)))?null:{changed:!0,changedMap:n.reduce(((t,e)=>h()(t,e,{},s())),s()(t.changedMap))}))}this.props.onChange&&this.props.onChange(t,e),this.mounted&&this.props.autosave&&(this.delayId&&(this.delayId=clearTimeout(this.delayId)),this.delayId=setTimeout((()=>{this.setState((()=>null),(()=>{this.onSubmit()}))}),this.props.autosaveDelay))}__reset(t){return{changed:!1,changedMap:Object.create(null),resetCount:t.resetCount+1,submitted:!1,submitting:!1}}onReset(){this.setState(this.__reset)}onSubmit(t){t&&(t.preventDefault(),t.stopPropagation()),this.setState((t=>t.submitted?null:{submitted:!0}));const e=this.props.onSubmit(this.getModel("submit"));return e instanceof Promise?(this.setState({submitting:!0}),e.finally((()=>{this.setState({submitting:!1})}))):Promise.resolve()}render(){return o.createElement(v._.Provider,{value:this.getContext()},o.createElement("form",Object.assign({},this.getNativeFormProps())))}}C.displayName="Form",C.defaultProps={autosave:!1,autosaveDelay:0,error:null,label:!0,model:Object.create(null),noValidate:!0,onSubmit(){}};var S=n(6326);function x(t){class e extends t{getNativeFormProps(){const t=super.getNativeFormProps(),{autoField:e=this.getAutoField(),errorsField:n=this.getErrorsField(),submitField:r=this.getSubmitField()}=t,s=(0,S.Tt)(t,["autoField","errorsField","submitField"]);return s.children||(s.children=this.getContextSchema().getSubfields().map((t=>o.createElement(e,{key:t,name:t}))).concat([o.createElement(n,{key:"$ErrorsField"}),o.createElement(r,{key:"$SubmitField"})])),s}getAutoField(){return()=>null}getErrorsField(){return()=>null}getSubmitField(){return()=>null}}return e.Quick=x,e.displayName="Quick".concat(t.displayName),e}x(C);var y=n(56434),O=n.n(y),M=n(75713),F=n.n(M);function j(t){class e extends t{constructor(t){super(t),this.state=Object.assign(Object.assign({},this.state),{error:null,validate:!1,validating:!1,validator:this.getContextSchema().getValidator(t.validator)}),this.onValidate=this.validate=this.onValidate.bind(this),this.onValidateModel=this.validateModel=this.onValidateModel.bind(this)}getContextError(){var t;return null!==(t=super.getContextError())&&void 0!==t?t:this.state.error}getContext(){return Object.assign(Object.assign({},super.getContext()),{validating:this.state.validating})}getNativeFormProps(){const t=super.getNativeFormProps();return d()(t,["onValidate","validate","validator"])}componentDidUpdate(t,e,n){super.componentDidUpdate(t,e,n);const{model:o,schema:r,validate:s,validator:i}=this.props;r!==t.schema||i!==t.validator?this.setState({validator:r.getValidator(i)},(()=>{P(s,this.state.validate)&&this.onValidate()})):!a()(o,t.model)&&P(s,this.state.validate)&&this.onValidateModel(o)}onChange(t,e){P(this.props.validate,this.state.validate)&&this.onValidate(t,e),super.onChange(t,e)}__reset(t){return Object.assign(Object.assign({},super.__reset(t)),{error:null,validate:!1,validating:!1})}onSubmit(t){t&&(t.preventDefault(),t.stopPropagation()),this.setState({submitted:!0,validate:!0});const e=this.onValidate().then((t=>null!==t?Promise.reject(t):super.onSubmit().catch((t=>{throw this.setState({error:t}),t}))));return e.catch(F()),e}onValidate(t,e){let n=this.getContextModel();return n&&t&&(n=h()(s()(n),t,O()(e),s())),this.onValidateModel(n)}onValidateModel(t){var e=this;const n=this.getModel("validate",t),o=function(t){function e(e,n){return e instanceof Promise?(t(),e.then(n)):n(e)}return e}((()=>{this.setState({validating:!0})}));return o(this.state.validator(n),(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return o(e.props.onValidate(n,t),(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var n;return t=e.props.error===t?null:t,e.setState((e=>e.error!==t||e.validating?{error:t,validating:!1}:null)),Promise.resolve(null!==(n=e.props.error)&&void 0!==n?n:t)}))}))}}return e.Validated=j,e.displayName="Validated".concat(t.displayName),e.defaultProps=Object.assign(Object.assign({},t.defaultProps),{onValidate:(t,e)=>e,validate:"onChangeAfterSubmit"}),e}function P(t,e){return"onChange"===t||"onChangeAfterSubmit"===t&&e}j(C);const V=function t(e){class n extends e{constructor(t){super(t),this.state=Object.assign(Object.assign({},this.state),{model:t.model})}componentDidUpdate(t,e,n){const{model:o}=this.props;a()(o,t.model)||this.setState({model:o}),super.componentDidUpdate(t,e,n)}getNativeFormProps(){const t=super.getNativeFormProps();return d()(t,["onChangeModel"])}getModel(t){return this.state.model}onChange(t,e){super.onChange(t,e),this.setState((n=>({model:h()(s()(n.model),t,e,s())})),(()=>{this.props.onChangeModel&&this.props.onChangeModel(this.state.model)}))}__reset(t){return Object.assign(Object.assign({},super.__reset(t)),{model:this.props.model})}}return n.Auto=t,n.displayName="Auto".concat(e.displayName),n}(j(x(C)));var _=n(88595);const E=function(t){var e=t.children;return o.createElement(_.A.componentDetectorContext.Provider,{value:function(t,e){var n,o;return null===(o=null===(n=t.showIf)||void 0===n?void 0:n.call(t,e.model))||void 0===o||o?t._customComponent?t._customComponent:_.A.defaultComponentDetector(t,e):function(){return null}}},e)};var N=function(){return N=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},N.apply(this,arguments)};const D=(0,o.forwardRef)((function(t,e){return o.createElement(E,null,o.createElement(V,N({},t,{ref:e})))}))},9261:(t,e,n)=>{var o=n(78420),r=n(35324),s=n(69194),i=n(46686),a=n(70914);t.exports=function(t,e,n,l){if(!i(t))return t;for(var d=-1,u=(e=r(e,t)).length,h=u-1,c=t;null!=c&&++d<u;){var p=a(e[d]),m=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return t;if(d!=h){var g=c[p];void 0===(m=l?l(g,p,c):void 0)&&(m=i(g)?g:s(e[d+1])?[]:{})}o(c,p,m),c=c[p]}return t}},41740:(t,e,n)=>{var o=n(97132);t.exports=function(t){return o(t,4)}},19853:(t,e,n)=>{var o=n(26989);t.exports=function(t,e){return o(t,e)}},929:(t,e,n)=>{var o=n(9261);t.exports=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:o(t,e,n,r)}}}]);
//# sourceMappingURL=1320.48946397.chunk.js.map